{% extends "_base.html" %}
{% block content %}

<div class="container-narrow">
  <div class="topbar">
    <img class="logo-green" src="/static/logo.svg" alt="logo">
  </div>

  <!-- ============ intro ì˜ì—­ ì „ì²´ (í•˜ë£¨ 1íšŒ ë©”ì‹œì§€, ê¼¬ë¦¬ ì¤‘ì•™, ì í”„ ë°©ì§€) ============ -->
  <style>
    :root { --avatar-size: 210px; }
    @media (max-width: 520px) { :root { --avatar-size: 180px; } }

    .avatar-wrap {
      position: relative;
      display: inline-block;
      width: var(--avatar-size);
      height: var(--avatar-size);
      margin: 24px 0 16px;
    }

    .avatar-circle {
      width: var(--avatar-size);
      height: var(--avatar-size);
      border-radius: 50%;
      overflow: hidden;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 8px 22px rgba(0,0,0,.15);
      border: 3px solid rgba(255,255,255,.95);
      background:#fff;
    }
    .avatar-circle img { width:100%; height:100%; object-fit:cover; display:block; }

    .speech-bubble {
      position: absolute;
      bottom: calc(100% + 20px);
      left: 50%; transform: translateX(-50%);
      background:#fff; color:#0f1a14;
      font-size:15px; line-height:1.6;
      padding:10px 16px; border-radius:14px;
      box-shadow:0 6px 20px rgba(0,0,0,.12);
      border:1px solid rgba(0,0,0,.08);
      display:inline-block; overflow:visible; z-index:3;
      animation: bubble-fade 180ms ease-out;
    }
    .speech-bubble .bubble-text {
      display:inline-block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
      max-width: 90vw; text-align:center; vertical-align:top;
    }
    .speech-bubble::before, .speech-bubble::after {
      content:""; position:absolute; left:50%; transform:translateX(-50%);
      width:0; height:0; border-style:solid;
    }
    .speech-bubble::before {
      bottom:-11px; border-width:11px 10px 0 10px;
      border-color: rgba(0,0,0,.08) transparent transparent transparent;
    }
    .speech-bubble::after {
      bottom:-10px; border-width:10px 9px 0 9px;
      border-color:#fff transparent transparent transparent;
    }
    @keyframes bubble-fade { from{opacity:0} to{opacity:1} }

    @media (max-width: 520px){
      .speech-bubble { bottom: calc(100% + 14px); font-size:14px; padding:8px 12px; }
      .speech-bubble .bubble-text { max-width: 85vw; }
    }

    /* ì¸íŠ¸ë¡œ ë²„íŠ¼ ê·¸ë£¹ */
    .intro-cta {
      display:flex; gap:12px; justify-content:center; margin:22px 0 8px;
      flex-wrap:wrap;
    }
    .cta-btn {
      display:inline-flex; align-items:center; justify-content:center;
      padding:12px 18px; border-radius:999px; font-size:15px; font-weight:600;
      border:1px solid #0d4221; color:#0d4221; background:#fff;
      text-decoration:none; transition: transform .06s ease, box-shadow .2s;
      box-shadow:0 6px 16px rgba(0,0,0,.06);
    }
    .cta-btn.primary {
      background:#0d4221; color:#fff; border-color:#0d4221;
    }
    .cta-btn:hover { transform: translateY(-1px); box-shadow:0 10px 22px rgba(0,0,0,.08); }
  </style>

  <div class="intro-section" style="background-image:url('/static/waving-leaves.gif');">
    <img class="leaf-top" src="/static/leaf-top.png" alt="leaf-top">
    <img class="leaf-bot" src="/static/leaf-bot.png" alt="leaf-bottom">

    <!-- ğŸ¾ ì•„ë°”íƒ€ + ë§í’ì„  -->
    <div class="avatar-wrap">
      <div class="speech-bubble" id="garuBubble">
        <span class="bubble-text">ì˜¤ëŠ˜ë„ ë‚˜ ìƒê°í–ˆì§€? â˜ï¸</span>
      </div>
      <div class="avatar-circle">
        <img src="/static/garu-main.jpg" alt="ê°€ë£¨ í”„ë¡œí•„ ì‚¬ì§„" width="210" height="210" />
      </div>
    </div>

    <div class="intro-name">ê°€ë£¨ í”„ë­í‚¤ ì•„ì´ë°˜í˜¸ ë©í‚¤</div>
    <div class="intro-date-wrap"><div class="intro-date">2025ë…„ 09ì›” 22ì¼</div></div>

    <!-- âœ… ì¸íŠ¸ë¡œì—ì„œ ì´ë™ ë²„íŠ¼ -->
    <div class="intro-cta">
      <a class="cta-btn primary" href="{{ url_for('gallery') }}">ğŸ“¸ ì‚¬ì§„ì²©</a>
      <a class="cta-btn" href="{{ url_for('guest_list') }}">ğŸ“ ë°©ëª…ë¡</a>
    </div>
  </div>

  <script>
    /* ğŸ’¬ ëœë¤ ë©”ì‹œì§€ (í•˜ë£¨ 1íšŒ ë³€ê²½) */
    const garuMessages = [
      "ì˜¤ëŠ˜ë„ ë‚˜ ìƒê°í–ˆì§€? â˜ï¸",
      "í•˜ëŠ˜ì—ì„œë„ ë„ˆ ë³´ê³  ìˆë‹¤ë© ğŸ¾",
      "í•­ìƒ ê³ ë§ˆì›Œ, ë‚´ ì¹œêµ¬ ğŸ’š",
      "ì˜¤ëŠ˜ í•˜ë£¨ë„ í˜ë‚´ë¼ë© ğŸŒ¿",
      "ë‚˜ ìŠì§€ ë§ê³  ê°€ë” ë†€ëŸ¬ì™€ì¤˜ â˜ï¸",
      "ë‚˜ë„ ë„ˆ ë³´ê³  ì‹¶ë‹¤ë© ğŸ’­",
      "ê¸°ì–µ ì†ì—ì„œë„ í•¨ê»˜ ì‚°ì±…í•˜ìë© ğŸŒˆ",
      "ë‚´ê°€ ë¨¼ì € ê°”ì§€ë§Œ ì–¸ì œë‚˜ ê³ì— ìˆì„ê²Œ ğŸ’«",
    ];
    const bubbleText = document.querySelector("#garuBubble .bubble-text");
    if (bubbleText) {
      const today = new Date();
      const dayKey = today.getFullYear()*10000 + (today.getMonth()+1)*100 + today.getDate();
      const idx = dayKey % garuMessages.length;
      bubbleText.textContent = garuMessages[idx];
    }
  </script>
  <!-- ============ /intro ì˜ì—­ ì „ì²´ ============ -->

</div>
{% endblock %}