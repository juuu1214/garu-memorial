{% extends "_base.html" %}
{% block content %}

<div class="container-narrow">
  <div class="flex items-center w-full relative bg-grey-pearl py-6" style="background:#f3f5f4;border-radius:12px;">
    <a href="{{ url_for('index') }}" class="absolute" style="left:20px;top:50%;transform:translateY(-50%);text-decoration:none;color:inherit;" aria-label="뒤로가기">‹</a>
    <div class="w-full text-[17px] font-bold center">사진 업로드</div>
  </div>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="mt-3" style="color:#0d4221;">
        {% for msg in messages %}
          <div>{{ msg }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <form class="w-full max-w-[480px] mt-[15px] mx-auto px-[20px] lg:px-0"
        method="POST" action="{{ url_for('gallery_upload') }}" enctype="multipart/form-data">
    <div class="flex flex-col gap-3">
      <label for="photo" class="text-[15px]">이미지 선택 (1:1 권장)</label>
      <input id="photo" name="photo" type="file" accept="image/*" required
             class="ant-input ant-input-outlined input font-normal text-[14px]"
             style="border:1px solid #bfcdc4;border-radius:8px;padding:10px 12px;" />
    </div>

    <div class="flex gap-3">
      <button type="submit" class="btn-primary-obituary mt-[20px]"
              style="width:100%;border-radius:10px;padding:12px 16px;">
        업로드
      </button>
    </div>
    <p class="mt-2 text-[13px]" style="color:#666;">* 업로드 후 메인으로 이동합니다.</p>
  </form>
</div>

{% endblock %}